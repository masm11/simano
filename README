Simple Mail Notification

はじめに

  これはネットワーク経由でメール通知を受け取るプログラムです。
  メールが来たら通知エリアのアイコンが変わり、バルーンが表示
  されます。

  "simano" は SImple MAil NOtification の略です。


先に注意

  ruby を使っていますが、rb-inotify を使っているため、サーバは Linux 専
  用です、きっと。

  メールサーバで daemon を実行するため、メールサーバにアカウントが必要
  です。

  認証はありません。daemon に接続すれば、あなたがメールを受け取ったこと
  を誰でも知ることができます。メールサーバで firewall で接続元を絞って
  やれば、「誰でも」ではなくなります。それでも嫌、という人は、このプロ
  グラムを使うことはできません。

  ~/Maildir のみ対応です。

  通知エリアにアイコンが表示され、バルーンに新着メールがある旨表示され
  るのみで、何通届いたか、誰から届いたか、などは表示されません。


動作環境

  slackware64 14.1 + ruby 2.1.3p242
    xfce4 で問題なく動作。


コンパイル・インストール方法

  メールサーバで
    gem install rb-inotify
  した後、simanod.rb をどこかにコピーしてください。

  クライアントで
    gem install gtk3
    gem install libnotify
  した後、simano.rb をどこかにコピーしてください。


実行方法

  まず、ポート番号を決めてください。メールサーバのファイアウォールで、
  そのポートに穴を開けてください。

  メールサーバで
    simanod.rb -p <ポート番号>
  と実行してください。

  そしてクライアントで
    simano.rb -s <メールサーバのホスト名> -p <ポート番号> &
  と実行してください。

  メールが来たら、すぐに通知エリアに反映され、バルーンが表示されます。

  アイコンが気に入らなければ、-N <newmail> と -n <nomail> で変更できま
  す。


Android 版について

  まだ開発中です。

  android/ 以下に Android 版が入っています。
  Android Studio でビルドし、インストールすることができます。

  インストール前には AndroidManifest.xml で permision 等について
  確認しておくと良いでしょう。

  私が動作確認に使っているのは、
    Xperia X Performance
    Android 6.0.1
  です。古い OS ではきっと動かないでしょう。

  起動したらボタンをタップして、サーバのホスト名とポート番号を
  入力して下さい。元の画面に戻ったらサーバに接続されます。
  接続エラーでも特に表示はありませんので、設定は慎重に入力して
  ください。

  新着メールがある場合は Notification が表示されます。引き出すと、
    Simano
    新着メールがあります。
  などと表示されていますので、これをタップすると、sonymobile の
  Eメールアプリが起動します。現在、他のアプリには対応していません。
  Eメールアプリでメールを取得すると、Notification は消えます。

  Notification については、
    新着メールがない状態では表示なし
    新着メールがある状態では表示あり
  です。
  音については、新着メールなしの状態からありの状態に変わった時
  だけ鳴ります。
  新着メールありの状態から更にメールが来ても、Notification が表示
  された状態のままで、それ以上の通知はありません。


ライセンス

  COPYING を参照ください。


作者

  原野裕樹 <masm@masm11.ddo.jp>
